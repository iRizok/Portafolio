
public class Individuo {

	private int cepa[]; // Es una cadena string del algoritmo covid
	private double fitness = -1; // La calidad de la adaptacion del individuo

	public Individuo(int cepa[]) {
		this.cepa = cepa;
	}

	/**
	 * Crear un individuo con un cromosoma aleatorio de tamaño determinado
	 * 
	 * @param tamañoCepa
	 */

	// lo genera aleatorio
	String alphaBinario = "01001101010001100101011001000110010011000101011001001100010011000101000001001100010101100101001101010011010100010100001101010110010011100100110001010100010101000101001001010100010100010100110001010000010100000100000101011001010101000100111001010011010001100101010001010010010001110101011001011001010110010101000001000100010010110101011001000110010100100101001101010011010101100100110001001000010100110101010001010001010001000100110001000110010011000101000001000110010001100101001101001110010101100101010001010111010001100100100001000001010010010101001101000111010101000100111001000111010101000100101101010010010001100100010001001110010100000101011001001100010100000100011001001110010001000100011101010110010110010100011001000001010100110101010001000101010010110101001101001110010010010100100101010010010001110101011101001001010001100100011101010100010101000100110001000100010100110100101101010100010100010101001101001100010011000100100101010110010011100100111001000001010101000100111001010110010101100100100101001011010101100100001101000101010001100101000101000110010000110100111001000100010100000100011001001100010001110101011001011001010010000100101101001110010011100100101101010011010101110100110101000101010100110100010101000110010100100101011001011001010100110101001101000001010011100100111001000011010101000100011001000101010110010101011001010011010100010101000001000110010011000100110101000100010011000100010101000111010010110101000101000111010011100100011001001011010011100100110001010010010001010100011001010110010001100100101101001110010010010100010001000111010110010100011001001011010010010101100101010011010010110100100001010100010100000100100101001110010011000101011001010010010001000100110001010000010100010100011101000110010100110100000101001100010001010101000001001100010101100100010001001100010100000100100101000111010010010100111001001001010101000101001001000110010100010101010001001100010011000100000101001100010010000101001001010011010110010100110001010100010100000100011101000100010100110101001101010011010001110101011101010100010000010100011101000001010000010100000101011001010110010101011001000111010110010100110001010001010100000101001001010100010001100100110001001100010010110101100101001110010001010100111001000111010101000100100101010100010001000100000101010110010001000100001101000001010011000100010001010000010011000101001101000101010101000100101101000011010101000100110001001011010100110100011001010100010101100100010101001011010001110100100101011001010100010101010001010011010011100100011001010010010101100101000101010000010101000100010101010011010010010101011001010010010001100101000001001110010010010101010001001110010011000100001101010000010001100100011101000101010101100100011001001110010000010101010001010010010001100100000101010011010101100101100101000001010101110100111001010010010010110101001001001001010100110100111001000011010101100100000101000100010110010101001101010110010011000101100101001110010100110100000101010011010001100101001101010100010001100100101101000011010110010100011101010110010100110101000001010100010010110100110001001110010001000100110001000011010001100101010001001110010101100101100101000001010001000101001101000110010101100100100101010010010001110100010001000101010101100101001001010001010010010100000101010000010001110101000101010100010001110100101101001001010000010100010001011001010011100101100101001011010011000101000001000100010001000100011001010100010001110100001101010110010010010100000101010111010011100101001101001110010011100100110001000100010100110100101101010110010001110100011101001110010110010100111001011001010011000101100101010010010011000100011001010010010010110101001101001110010011000100101101010000010001100100010101010010010001000100100101010011010101000100010101001001010110010101000101000001010001110101001101010100010100000100001101001110010001110101011001000101010001110100011001001110010000110101100101000110010100000100110001010001010100110101100101000111010001100101000101010000010101000101100101000111010101100100011101011001010100010101000001011001010100100101011001010110010101100100110001010011010001100100010101001100010011000100100001000001010100000100000101010100010101100100001101000111010100000100101101001011010100110101010001001110010011000101011001001011010011100100101101000011010101100100111001000110010011100100011001001110010001110100110001010100010001110101010001000111010101100100110001010100010001010101001101001110010010110100101101000110010011000101000001000110010100010101000101000110010001110101001001000100010010010100010001000100010101000101010001000100010000010101011001010010010001000101000001010001010101000100110001000101010010010100110001000100010010010101010001010000010000110101001101000110010001110100011101010110010100110101011001001001010101000101000001000111010101000100111001010100010100110100111001010001010101100100000101010110010011000101100101010001010001110101011001001110010000110101010001000101010101100101000001010110010000010100100101001000010000010100010001010001010011000101010001010000010101000101011101010010010101100101100101010011010101000100011101010011010011100101011001000110010100010101010001010010010000010100011101000011010011000100100101000111010000010100010101001000010101100100111001001110010100110101100101000101010000110100010001001001010100000100100101000111010000010100011101001001010000110100000101010011010110010101000101010100010100010101010001001110010100110100100001010010010100100100000101010010010100110101011001000001010100110101000101010011010010010100100101000001010110010101010001001101010100110100110001000111010000010100010101001110010100110101011001000001010110010101001101001110010011100101001101001001010000010100100101010000010010010100111001000110010101000100100101010011010101100101010001010100010001010100100101001100010100000101011001010011010011010101010001001011010101000101001101010110010001000100001101010100010011010101100101001001010000110100011101000100010100110101010001000101010000110101001101001110010011000100110001001100010100010101100101000111010100110100011001000011010101000101000101001100010011100101001001000001010011000101010001000111010010010100000101010110010001010101000101000100010010110100111001010100010100010100010101010110010001100100000101010001010101100100101101010001010010010101100101001011010101000101000001010000010010010100101101000100010001100100011101000111010001100100111001000110010100110101000101001001010011000101000001000100010100000101001101001011010100000101001101001011010100100101001101000110010010010100010101000100010011000100110001000110010011100100101101010110010101000100110001000001010001000100000101000111010001100100100101001011010100010101100101000111010001000100001101001100010001110100010001001001010000010100000101010010010001000100110001001001010000110100000101010001010010110100011001001110010001110100110001010100010101100100110001010000010100000100110001001100010101000100010001000101010011010100100101000001010100010101100101010100010100110100000101001100010011000100000101000111010101000100100101010100010100110100011101010111010101000100011001000111010000010100011101000001010000010100110001010001010010010101000001000110010000010100110101010001010011010100000101011001010100100100011001001110010001110100100101000111010101100101010001010001010011100101011001001100010110010100010101001110010100010100101101001100010010010100000101001110010100010100011001001110010100110100000101001001010001110100101101001001010100010100010001010011010011000101001101010011010101000100000101010011010000010100110001000111010010110100110001010001010001000101011001010110010011100101000101001110010000010101000101000001010011000100111001010100010011000101011001001011010100010100110001010011010100110100111001000110010001110100000101001001010100110101001101010110010011000100111001000100010010010100110001000001010100100100110001000100010010110101011001000101010000010100010101010110010100010100100101000100010100100100110001001001010101000100011101010010010011000101000101010011010011000101000101010100010110010101011001010100010100010101000101001100010010010101001001000001010000010100010101001001010100100100000101010011010000010100111001001100010000010100000101010100010010110100110101010011010001010100001101010110010011000100011101010001010100110100101101010010010101100100010001000110010000110100011101001011010001110101100101001000010011000100110101010011010001100101000001010001010100110100000101010000010010000100011101010110010101100100011001001100010010000101011001010100010110010101011001010000010000010101000101000101010010110100111001000110010101000101010001000001010100000100000101001001010000110100100001000100010001110100101101000001010010000100011001010000010100100100010101000111010101100100011001010110010100110100111001000111010101000100100001010111010001100101011001010100010100010101001001001110010001100101100101000101010100000101000101001001010010010101010001010100010010000100111001010100010001100101011001010011010001110100111001000011010001000101011001010110010010010100011101001001010101100100111001001110010101000101011001011001010001000101000001001100010100010101000001000101010011000100010001010011010001100100101101000101010001010100110001000100010010110101100101000110010010110100111001001000010101000101001101010000010001000101011001000100010011000100011101000100010010010101001101000111010010010100111001000001010100110101011001010110010011100100100101010001010010110100010101001001010001000101001001001100010011100100010101010110010000010100101101001110010011000100111001000101010100110100110001001001010001000100110001010001010001010100110001000111010010110101100101000101010100010101100101001001010010110101011101010000010101110101100101001001010101110100110001000111010001100100100101000001010001110100110001001001010000010100100101010110010011010101011001010100010010010100110101001100010000110100001101001101010101000101001101000011010000110101001101000011010011000100101101000111010000110100001101010011010000110100011101010011010000110100001101001011010001100100010001000101010001000100010001010011010001010101000001010110010011000100101101000111010101100100101101001100010010000101100101010100";
	char[] alphaCepaBinario = alphaBinario.toCharArray();

	String alphaBinario2 = "0 1 0 0 1 1 0 1 0 1 0 0 0 1 1 0 0 1 0 1 0 1 1 0 0 1 0 0 0 1 1 0 0 1 0 0 1 1 0 0 0 1 0 1 0 1 1 0 0 1 0 0 1 1 0 0 0 1 0 0 1 1 0 0 0 1 0 1 0 0 0 0 0 1 0 0 1 1 0 0 0 1 0 1 0 1 1 0 0 1 0 1 0 0 1 1 0 1 0 1 0 0 1 1 0 1 0 1 0 0 0 1";
	String[] alphaCepaBinario2 = alphaBinario2.split(" ");

	/*
	 * public Individuo(int tamanoCepa) { this.cepa = new int[tamanoCepa]; for (int
	 * gen = 0; gen < tamanoCepa; gen++) { for (int i = 0; i <
	 * alphaCepaBinario.length; i++) { if (alphaCepaBinario[i] == '1') { setGen(gen,
	 * 1); } else { setGen(gen, 0); } } } }
	 */

	/*
	 * public Individuo(int tamanoCepa) { this.cepa = new int[tamanoCepa]; for (int
	 * gen = 0; gen < tamanoCepa; gen++) { for (int i = 0; i <
	 * alphaCepaBinario2.length; i++) { if (alphaCepaBinario2[i].equals("1")) {
	 * setGen(gen, 1); } else { setGen(gen, 0); } } } }
	 */

	// es el que jala.

	public Individuo(int tamanoCepa) {
		this.cepa = new int[tamanoCepa];
		for (int gen = 0; gen < tamanoCepa; gen++) {
			if (0.5 < Math.random()) {
				setGen(gen, 1);
			} else {
				setGen(gen, 0);
			}

		}
	}

	public void setGen(int posicion, int gen) {
		cepa[posicion] = gen;
	}

	public int getGen(int posicion) {
		return cepa[posicion];
	}

	public int[] getCepa() {
		return cepa;
	}

	public int getTamanoCepa() {
		return cepa.length;
	}

	public double getFitness() {
		return fitness;
	}

	public void setFitness(double fitness) {
		this.fitness = fitness;
	}

	public String cepaString() {
		String strCepa = "";
		for (int gen = 0; gen < cepa.length; gen++) {
			strCepa += cepa[gen];
		}
		return strCepa;
	}

	public static String textToBinary(String originalText) {

		String binaryText = "";
		for (int i = 0; i < originalText.length(); i++) {
			// Primero obtenemos la letra o carácter actual
			char currentChar = originalText.charAt(i);
			// Necesitamos obtener su representación entera ASCII
			int ascii = (int) currentChar;
			// Una vez que ya tenemos el entero, lo convertimos a binario
			String binary = decimalToBinary(ascii);
			// Lo agregamos a la cadena resultante agregando además un espacio
			binaryText += binary + "*";

		}
		// Finalmente regresamos el texto
		return binaryText;
	}

	public static int binaryToDecimal(String binary) {
		// A este número le vamos a sumar cada valor binario
		int decimal = 0;
		int position = 0;
		// Recorrer la cadena...
		for (int x = binary.length() - 1; x >= 0; x--) {
			// Saber si es 1 o 0; primero asumimos que es 1 y abajo comprobamos
			short digit = 1;
			if (binary.charAt(x) == '0') {
				digit = 0;
			}

			/*
			 * Se multiplica el dígito por 2 elevado a la potencia según la posición;
			 * comenzando en 0, luego 1 y así sucesivamente
			 */
			double multiplier = Math.pow(2, position);
			decimal += digit * multiplier;
			position++;
		}
		return decimal;
	}

	public static String decimalToBinary(int decimal) {
		if (decimal <= 0) {
			return "0";
		}
		String binary = "";
		while (decimal > 0) {
			short remainder = (short) (decimal % 2);
			decimal = decimal / 2;
			// Insertar el dígito al inicio de la cadena
			binary = String.valueOf(remainder) + binary;
		}
		return binary;
	}

	public static String binaryToText(String binaryText) {
		// Necesitamos separar cada número binario por espacio. Usamos split
		String[] binaryNumbers = binaryText.split(" ");
		String text = "";

		// Los recorremos. En cada paso tenemos al número binario
		for (String currentBinary : binaryNumbers) {
			// Ahora convertimos ese binario a decimal
			int decimal = binaryToDecimal(currentBinary);
			// Obtenemos la letra que le corresponde a ese valor ASCII
			char letra = (char) decimal;
			text += letra;
		}
		return text;
	}

}
